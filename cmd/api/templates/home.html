{{define "content"}}
<div style="margin-bottom: 30px;">
    <h2 style="color: #333; margin-bottom: 20px;">ğŸ’¬ Latest Discussions</h2>
    
    {{if not .User}}
    <div class="guest-notice">
        <strong>ğŸ‘‹ Welcome, Guest!</strong> You can view all posts, but you'll need to 
        <a href="/register" style="color: #1565c0; text-decoration: underline;">register</a> and 
        <a href="/login" style="color: #1565c0; text-decoration: underline;">login</a> to create your own posts.
    </div>
    {{end}}

    {{if .User}}
        {{if not .User.IsActive}}
        <div class="error">
            âš ï¸ Your account is not yet activated. Check the console for your activation link! 
        </div>
        {{else}}
        <div style="text-align: center; margin: 20px 0;">
            <a href="/post" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block; transition: transform 0.2s ease;">
                âœï¸ Create New Post
            </a>
        </div>
        {{end}}
    {{end}}
</div>

{{if . Messages}}
    {{range .Messages}}
    <div class="message">
        <h3>{{.Title}}</h3>
        <p>{{.Content}}</p>
        <div class="message-meta">
            <span>ğŸ‘¤ By: {{.UserName}}</span>
            <span>ğŸ“… {{.CreatedAt. Format "Jan 2, 2006 at 3:04 PM"}}</span>
        </div>
    </div>
    {{end}}
{{else}}
    <div class="no-messages">
        <h3>ğŸ“­ No posts yet! </h3>
        <p>Be the first to start a discussion. </p>
        {{if not .User}}
        <p style="margin-top: 15px;">
            <a href="/register" style="color: #667eea; text-decoration: underline;">Register now</a> to create the first post!
        </p>
        {{end}}
    </div>
{{end}}
{{end}}